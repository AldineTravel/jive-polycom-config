<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<customizations>

    <!-- BToE is also set via Powershell, but setting this here fixes the first login for new phones. -->
    <btoe
            btoe.pairingMode="Auto"
            feature.btoe.enabled="1"
    />

    <!-- Sets:
        * The default profile to Lync
        * A default admin password (otherwise phones throw warnings)
        * Our PaperTrail syslog server (please don't use ours!)
        * The current time (CRITICAL for initial login with TLS validation)
        -->
    <device
            device.set="1"
            device.baseProfile.set="1"
            device.baseProfile="Lync"
            device.auth.localAdminPassword.set="1"
            device.auth.localAdminPassword="8860"

            device.syslog.serverName.set="1"
            device.syslog.serverName="logs3.papertrailapp.com:40217"
            device.syslog.transport.set="1"
            device.syslog.transport="UDP"
            device.syslog.prependMac.set="1"
            device.syslog.prependMac="1"

            device.sntp.serverName.set="1"
            device.sntp.serverName="time.windows.com"
            device.sntp.gmtOffsetcityID.set="1"
            device.sntp.gmtOffsetcityID="10"

            device.prov.lyncDeviceUpdateEnabled.set="1"
		    device.prov.lyncDeviceUpdateEnabled="1"

            device.prov.tagSerialNo.set="1"
            device.prov.tagSerialNo="1"
    />

    <!-- UTC Time for logging -->
    <tcpIpApp
            tcpIpApp.sntp.gmtOffsetcityID="38"
    />

    <!-- Log memory and CPU usage -->
    <log
            log.sched.1.name="memShow"
            log.sched.2.name="showCpuLoad"
            log.sched.1.period="180"
            log.sched.2.period="180"
            log.sched.1.startTime="30"
            log.sched.2.startTime="30"

            log.render.file.upload.append.sizeLimit="1024"
    />

    <!-- Disable some unused & confusing features, including:
        * User device lock
        * DND
        * Call recording
        * Log file uploads (prefer syslog / live data, rather than PUT to the server)
        -->
    <feature
            feature.corporateDirectory.enabled="0"
            feature.callRecording.enabled="0"
            feature.doNotDisturb.enable="0"
            feature.deviceLock.enable="0"

            feature.logUpload.enabled="0"
    />

    <!-- No "minibrowser" (mb) settings, except for the idle display, which is refreshed daily.
    https://semenko.github.io/skype-polycom-config/idle-screen/
     86400
     -->
    <mb
            mb.main.home=""
            mb.main.autoBackKey="0"
            mb.main.statusbar="0"

            mb.idleDisplay.home="https://semenko.github.io/skype-polycom-config/idle-screen/"
            mb.idleDisplay.refresh="86400"
    />

    <!-- Disable unused soft keys -->
    <softkey
            softkey.feature.meetnow="0"
            softkey.feature.mystatus="0"
            softkey.feature.redial="1"

            homeScreen.directories.enable="0"
            homeScreen.application.enable="0"
    />

    <!-- Speed dial soft key -->

    <!-- Use three display columns on the main screen. -->
    <line
            feature.flexibleLineKey.enable="0"
            up.numOfDisplayColumns="3"
    />

    <!-- Turn off the USB ports. -->
    <usb
            feature.usbTop.power.enabled="0"
            feature.usbRear.power.enabled="0"
    />

    <!-- Auto-refresh the configuration. This polls randomly from 1 a.m. to 5 a.m. -->
    <prov
		prov.polling.enabled="1"
		prov.polling.mode="random"
		prov.polling.time="01:00"
		prov.polling.timeRandomEnd="05:00"
	/>

    <!-- Include the serial no in headers for easier debugging. -->
    <sec
            sec.tagSerialNo="1"
    />

    <!-- No signout button & some other login tweaks. -->
    <softkey
            softkey.feature.simplifiedSignIn="1"
            feature.lync.hideSignInSignOut="0"
            feature.lync.hideSignOut="1"
            feature.webSignIn.enabled="1"
    />

    <!-- No bootup sounds, no silly unnecessary warnings. You can set warning level to "0" when debugging. -->
    <userpreferences
            up.warningLevel="0"
            up.welcomeSoundEnabled="0"
            up.welcomeSoundOnWarmBootEnabled="0"
    />

    <!-- Don't blink the LED when in power-saving mode. -->
    <ind
            ind.pattern.powerSaving.step.1.state="0"
    />

    <!-- Enable acoustic fence settings. -->
    <voice
            voice.aec.hd.enable="1"
            voice.aec.hf.enable="1"
            voice.aec.hs.enable="1"
            voice.aes.hd.enable="1"
            voice.aes.hf.enable="1"
            voice.aes.hs.enable="1"
            voice.ns.hd.enhanced="1"
            voice.ns.hd.nonStationaryThresh="7"
            voice.ns.hs.enhanced="1"
            voice.ns.hs.nonStationaryThresh="7"
    />

    <!-- Enable group paging. (This is different than PTT itself.) -->
    <ptt
		ptt.pageMode.enable="1"
		ptt.pageMode.group.1.label="Default"
		ptt.pageMode.group.24.label="Priority"
		ptt.pageMode.group.25.label="Emergency"
	/>

</customizations>
